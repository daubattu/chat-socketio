(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),o=p(r),s=p(n(151)),u=n(131),i=p(n(1145)),l=p(n(1147)),c=n(539),f=n(540),d=n(112);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(r,o){try{var s=t[r](o),u=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}("next")})}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,a,r,o,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={newGroup:{},openModal:{makeNewGroup:!1},isLoading:{makeNewGroup:!1},friends:[],membersSelected:[]},a.pushNotifycation=function(e,t){d.notification[e]({message:t})},a.isMe=function(e){return a.props.currentUser._id===e},a.actions={isChecked:function(e){var t=a.state.newGroup;if(!t.members)return-1;for(var n=0;n<t.members.length;n++){if(t.members[n]._id===e)return n}return-1},handleChangeStatusModal:function(e){var t=a.state.openModal;t[e]=!t[e],a.setState({openModal:t})},handleMakeNewGroup:(o=m(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.newGroup,r=t.isLoading,o=t.openModal,r.makeNewGroup=!0,a.setState({isLoading:r}),e.next=5,s.default.post("/api/v1/groups",n).then(function(e){o.makeNewGroup=!1;var t=e.data.newGroup;t.lastMessage={user:a.props.currentUser,createdTime:Date.now(),type:"text",content:"Đã tạo nhóm"},a.pushNotifycation("success","Thêm nhóm "+n.name+" thành công"),a.props.handleAddNewGroup(t)},function(e){var t="Thêm nhóm "+n.name+" không thành công";e.response.data.message&&(t=e.response.data.message),a.pushNotifycation("error",t)});case 5:r.makeNewGroup=!1,a.setState({isLoading:r,openModal:o});case 7:case"end":return e.stop()}},e,u)})),function(){return o.apply(this,arguments)}),getFriends:(r=m(regeneratorRuntime.mark(function e(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.message.loading("",0),e.next=3,s.default.get("/api/v1/me/friends").then(function(e){var t=e.data.friends;a.actions.handleChangeStatusModal("makeNewGroup"),a.setState({friends:t})});case 3:d.message.destroy();case 4:case"end":return e.stop()}},e,u)})),function(){return r.apply(this,arguments)}),handleChangeNewGroup:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=a.state.newGroup;if("members"===e)if(r.members){var o=a.actions.isChecked(t);-1!==o?r.members.splice(o,1):r.members[r.members.length]=n}else r.members=[n];else r[e]=t;a.setState({newGroup:r})}},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=m(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.mounted=!0,e.next=3,s.default.get("/api/v1/groups").then(function(e){var n=e.data.groups||[];t.mounted&&(t.props.initGroups(n),t.props.setCurrentGroup(n[0]))},function(){t.mounted&&t.setState({groups:[]})});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.props.groups,n=this.state,a=n.openModal,r=n.isLoading,s=n.friends,u=n.newGroup;return o.default.createElement("nav",{className:"col-md-3 bg-light sidebar"},o.default.createElement("div",{className:"sidebar-sticky"},o.default.createElement("div",{className:"pt-3 px-4"},o.default.createElement("div",null,o.default.createElement("h2",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},"Groups ",o.default.createElement("i",{id:"icon-open-modal-make-new-group",onClick:function(){return e.actions.getFriends()},style:{cursor:"pointer"},className:"fa fa-plus","aria-hidden":"true"}))),o.default.createElement("div",{className:"list-groups"},o.default.createElement(i.default,{currentUser:this.props.currentUser,isMe:this.isMe,groups:t,setCurrentGroup:this.props.setCurrentGroup})),o.default.createElement(l.default,{newGroup:u,actions:this.actions,visible:a.makeNewGroup,isLoading:r.makeNewGroup,friends:s}))))}}]),t}();t.default=(0,u.connect)(function(e){return{groups:e.groups,currentUser:e.auth.user}},{setCurrentGroup:c.setCurrentGroup,initGroups:f.initGroups,handleAddNewGroup:f.handleAddNewGroup})(g)},1145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=s(a),o=s(n(1146));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.groups,n=e.setCurrentGroup,s=e.isMe,u=e.currentUser;return r.default.createElement(a.Fragment,null,t.map(function(e,t){return r.default.createElement(o.default,{key:e._id||t,currentUser:u,isMe:s,group:e,setCurrentGroup:n})}))}},1146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){var t,n,a=e.group,s=e.setCurrentGroup,u=e.isMe,i=e.currentUser;return o.default.createElement("div",{className:"group"},function(e,t){var n=[];return t=(t=t.filter(function(a){if(a._id!==e._id&&-1===n.indexOf(a._id))return n.push(a._id),t})).slice(0,4),o.default.createElement("div",{className:"group-avatar group-avatar-"+(t.length<4?t.length+1:"n")},t.map(function(e,t){return o.default.createElement("img",{id:e._id,key:e._id||t,src:e.avatar})}))}(i,a.members),o.default.createElement("div",{className:"group-detail"},o.default.createElement("b",{className:"group-name",onClick:function(){return s(a)}},a.name),a.lastMessage&&o.default.createElement("div",null,o.default.createElement("div",{className:"group-last-message"},o.default.createElement("small",{style:{maxWidth:"80%",overflow:"hidden"}},u(a.lastMessage.user._id)&&"You: ","text"===(n=a.lastMessage).type?n.content?n.content.slice(0,30):"":"image"===n.type?o.default.createElement(r.Fragment,null,"Đã gửi ",n.files.length," bức ảnh ",o.default.createElement("i",{className:"fa fa-picture-o"})):"video"===n.type?o.default.createElement(r.Fragment,null,"Đã gửi ",n.files.length," video ",o.default.createElement("i",{className:"fa fa-video-camera"})):"file"===n.type?o.default.createElement(r.Fragment,null,"Đã gửi ",n.files.length," file đính kèm ",o.default.createElement("b",null,o.default.createElement("i",{className:"fa fa-paperclip"}))):"Đã gửi 1 thứ gì đó hay ho"),!u(a.lastMessage.user._id)&&o.default.createElement("img",{src:a.lastMessage.user.avatar,style:{height:"20px"}})),o.default.createElement("small",{style:{textAlign:"right",width:"100%",display:"inline-block"}},(t=a.lastMessage.createdTime,new Date(t).toLocaleTimeString()+" - "+new Date(t).toLocaleDateString())))))}},1147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=u(a),o=n(112),s=u(n(1148));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.friends,n=e.visible,u=e.isLoading,i=e.actions,l=e.newGroup;return r.default.createElement(a.Fragment,null,r.default.createElement(o.Modal,{width:"60%",title:"Tạo nhóm",visible:n,onCancel:function(){return i.handleChangeStatusModal("makeNewGroup")},footer:[r.default.createElement(o.Button,{key:"back",onClick:function(){return i.handleChangeStatusModal("makeNewGroup")}},"Hủy"),r.default.createElement(o.Button,{key:"submit",type:"primary",disabled:!(l.name&&l.members&&l.members.length>1),loading:u,onClick:i.handleMakeNewGroup},"Tạo")]},r.default.createElement("div",{className:"modal-make-new-group"},r.default.createElement("div",{className:"row modal-make-new-group-head"},r.default.createElement("div",{className:"col-lg-12"},r.default.createElement("input",{value:l.name||"",onChange:function(e){return i.handleChangeNewGroup("name",e.target.value)},className:"form-control",id:"name",placeholder:"Tên nhóm"}))),r.default.createElement("div",{className:"row modal-make-new-group-main"},r.default.createElement("div",{className:"col-lg-7 modal-make-new-group-main-friends"},r.default.createElement("div",{style:{height:"45px"}},r.default.createElement("input",{className:"form-control",id:"search-friend",placeholder:"Tìm kiếm"})),r.default.createElement("div",{className:"modal-make-new-group-main-friends-data"},r.default.createElement(s.default,{newGroup:l,actions:i,friends:t}))),r.default.createElement("div",{className:"col-lg-5 modal-make-new-group-main-members"},r.default.createElement("div",{style:{height:"45px"}},r.default.createElement("b",null,"Đã chọn ",r.default.createElement("b",null,"(",l.members?l.members.length:0,")"))),r.default.createElement("div",{className:"modal-make-new-group-main-friends-data-selected"},l.members&&r.default.createElement(s.default,{newGroup:l,actions:i,remove:!0,friends:l.members})))))))}},1148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),r=o(n(1149));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.friends,n=e.actions,o=e.remove;return a.default.createElement("div",{style:{marginRight:"10px"}},t.map(function(e,t){return a.default.createElement(r.default,{actions:n,key:e._id||t,remove:o,friend:e})}))}},1149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),o=(a=r)&&a.__esModule?a:{default:a},s=n(112);t.default=function(e){var t=e.friend,n=e.actions,a=e.remove;return o.default.createElement("div",{className:"item-friend-in-modal-make-new-group",style:{marginBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.default.createElement("div",{onClick:function(){return n.handleChangeNewGroup("members",t._id,t)},style:{flexGrow:"1"}},o.default.createElement("img",{src:t.avatar,style:{height:"40px",marginRight:"5px"}}),o.default.createElement("b",null,t.name||t.username)),o.default.createElement("div",null,a?o.default.createElement(s.Icon,{onClick:function(){return n.handleChangeNewGroup("members",t._id,t)},type:"delete"}):o.default.createElement(s.Checkbox,{checked:-1!==n.isChecked(t._id),onChange:function(){return n.handleChangeNewGroup("members",t._id,t)}})))}},1150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(){return o.default.createElement("div",{className:"col-md-2 pt-3 px-4"})}},1151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),s=g(o),u=n(131),i=g(n(1152)),l=g(n(1177)),c=g(n(1180)),f=g(n(151)),d=n(152),p=n(539),m=n(540),h=n(112);function g(e){return e&&e.__esModule?e:{default:e}}function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(r,o){try{var s=t[r](o),u=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}("next")})}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=void 0,E=h.Modal.confirm,j=function(e){function t(){var e,n,r,o,s,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={messages:[],message:{type:"text",content:null,files:[]},openModal:{listMembers:!1},loading:{addNewMember:!1,deleteMember:!1},newMemberIds:[],socket:null,isTyping:!1,openExtendTypeMessage:!1,deleteMemberId:null},r.actions={confirmDeleteMember:function(e){var t=r,n=r.props.group;E({title:"Bạn có thực sự muốn xóa người dùng "+(e.name||e.username)+" khỏi nhóm chat "+n.name+"?",width:"30%",onOk:function(){return new Promise(function(r,o){f.default.delete("/api/v1/groups/"+n._id+"/members",{params:{deleteMemberId:e._id}}).then(function(){t.props.pushNotifycation("success","Xóa người dùng "+(e.name||e.username)+" khỏi nhóm chat "+n.name+" thành công");for(var o=n.members,s=0;s<o.length;s++)if(o[s]._id===e._id){t.props.deleteMemberOfGroup(o[s]._id);break}t.actions.handleChangeStatusModal("listMembers"),t.props.handleUpdateGroup(a({},n,{members:[].concat(v(n.members)).filter(function(t){return t._id!==e._id})})),r()},function(a){var r="Xóa người dùng "+(e.name||e.username)+" khỏi nhóm chat "+n.name+" không thành công";a.response.data.message&&(r=a.response.data.message),t.props.pushNotifycation("error",r),o()})})},onCancel:function(){}})},handleChangeNewMemberIds:function(e){return r.setState({newMemberIds:e})},handleChangeStatusModal:function(e){var t=r.state,n=t.openModal,a=t.newMemberIds;n[e]=!n[e],"lisMembers"===e&&(a=""),r.setState({openModal:n,newMemberIds:a})},handleChangeStateOpenExtendTypeMessage:function(){r.setState({openExtendTypeMessage:!r.state.openExtendTypeMessage})},handleAddNewMembers:(s=y(regeneratorRuntime.mark(function e(){var t,n,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.group,n=r.state,o=n.loading,s=n.newMemberIds,o.addNewMember=!0,r.setState({loading:o}),e.next=6,f.default.post("/api/v1/groups/"+t._id+"/members",{newMemberIds:s.split(",")}).then(function(e){r.props.pushNotifycation("success","Thêm thành viên vào nhóm "+t.name+" thành công"),r.props.addMembersGroup(e.data.newMembers),r.actions.handleChangeStatusModal("listMembers"),r.props.handleUpdateGroup(a({},t,{members:[].concat(v(t.members),v(e.data.newMembers))}))},function(e){var n="Thêm thành viên vào nhóm "+t.name+" không thành công";e.response.data.message&&(n=e.response.data.message),r.props.pushNotifycation("success",n)});case 6:o.addNewMember=!1,r.setState({loading:o});case 8:case"end":return e.stop()}},e,u)})),function(){return s.apply(this,arguments)}),handleSendMessage:(o=y(regeneratorRuntime.mark(function e(){var t,n,o,s,i,l,c,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("message-content").blur(),t=a({},r.state.message),n=new FormData,o={headers:{"Content-Type":"multipart/form-data"}},"text"===t.type||!t.files){e.next=24;break}for(s=!0,i=!1,l=void 0,e.prev=8,c=t.files[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)p=d.value,n.append("attachments",p.file);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),i=!0,l=e.t0;case 16:e.prev=16,e.prev=17,!s&&c.return&&c.return();case 19:if(e.prev=19,!i){e.next=22;break}throw l;case 22:return e.finish(19);case 23:return e.finish(16);case 24:t.content&&n.append("content",t.content),n.append("groupId",r.props.group._id),n.append("type",t.type),f.default.post("/api/v1/messages",n,o).then(function(){t={type:"text",content:null,files:null},r.setState({message:t})},function(e){var t=r.state.messages,n=r.props.currentUser;t.push({type:"text",content:"Gửi thất bại",error:!0,createdTime:Date.now(),user:n}),r.setState({messages:t}),r.scrollToBottomOfWrapperMessages(),console.log(e)});case 28:case"end":return e.stop()}},e,u,[[8,12,16,24],[17,,19,23]])})),function(){return o.apply(this,arguments)}),handleOnTyping:function(){_.emit("typing",{groupId:r.props.group._id})},handleUnTyping:function(){_.emit("unTyping",{groupId:r.props.group._id})},handleChangeMessage:function(e,t){var n=r.state.message;n[e]=t,r.setState({message:n})},handleDeleteFilesWithIndex:function(e){var t=r.state.message,n=[].concat(v(t.files));n.splice(e,1),t.files=n,0===t.files.length&&(t.files=[],t.type="text"),r.setState({message:t})},handleChangeMessageWithFile:function(e,t){var n=r.state.message;if("image"!==e&&t[0].size>26214400)r.props.pushNotifycation("error","Kích thước file upload không được vượt quá 25 MB");else{console.log(t.length),n.type=e,n.files=[];for(var a=function(e){var a=new FileReader;n.files[e]||(n.files[e]={}),console.log(r.state.message),n.files[e].file=t[e],n.files[e].name=t[e].name+" - "+function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","kB","MB","GB","TB"][t]}(t[e].size),n.files[e].isLoading=!0,r.setState({message:n}),r.scrollToBottomOfWrapperMessages(),a.onload=function(t){n.files[e].src=t.target.result,n.files[e].isLoading=!1,r.setState({message:n}),r.scrollToBottomOfWrapperMessages()},a.readAsDataURL(t[e]),document.getElementById("message-content").focus()},o=0;o<t.length;o++)a(o)}}},r.isMe=function(e){return r.props.currentUser._id===e},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"scrollToBottomOfWrapperMessages",value:function(){var e=document.getElementById("wrapper-messages");e&&(e.scrollTop=e.scrollHeight)}},{key:"GetMessage",value:function(){var e=y(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({messages:null}),e.next=3,f.default.get("/api/v1/messages",{params:{group:t}}).then(function(e){var t=e.data.messages||[];n.setState({messages:t}),n.scrollToBottomOfWrapperMessages()},function(e){n.setState({messages:[]}),console.log(e.response.data)});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=this;(_=(0,i.default)("http://chatapp.stovietnam.com")).on("newConnection",function(e){console.log(e)}),_.on("yourFriendOnline",function(e){console.log("your friend have just connected",e)}),_.on("yourFriendOffline",function(e){console.log("your friend have just disconnected",e)}),_.emit("authenticate",{tokenJWT:localStorage.tokenJWT}),_.on("unauthorized",function(t){console.log("Unauthorized:",t.message),e.props.handleLogOut(),e.props.history.replace("/auth/login"),e.props.pushNotifycation("error",t.message),_.disconnect()}),_.on("typing",function(){document.getElementById("message-content").placeholder="",e.setState({isTyping:!0})}),_.on("unTyping",function(){e.setState({isTyping:!1})}),_.on("receiveNewMessage",function(t){var n=a({},t.group,{lastMessage:a({},t,{user:t.user})});if(e.props.group._id===t.group._id){console.log("Có tin nhắn ở group này",t.group);var r=e.state.messages;r.push(t),e.setState({messages:r}),e.scrollToBottomOfWrapperMessages(),e.props.handleUpdateGroup(n)}else e.props.handleUpdateGroup(n),console.log("Có tin nhắn ở group khác",t.group.name)})}},{key:"componentWillReceiveProps",value:function(e){e.group._id&&(this.GetMessage(e.group._id),_.emit("joinRoom",{groupId:e.group._id}),this.props.group._id&&e.group._id!==this.props.group._id&&_.emit("leaveRoom",{groupId:this.props.group._id}))}},{key:"render",value:function(){var e=this.props.group,t=this.state,n=t.openModal,a=t.loading,r=t.newMemberIds,o=t.messages,u=t.message,i=t.isTyping,f=t.openExtendTypeMessage;return s.default.createElement("main",{role:"main",className:"col-md-7 ml-sm-auto pt-3 px-4 border-right",style:{height:"calc(100vh - 48px)"}},s.default.createElement(l.default,{message:u,openExtendTypeMessage:f,isMe:this.isMe,isTyping:i,group:e,actions:this.actions,messages:o}),s.default.createElement(c.default,{group:e,actions:this.actions,isLoading:a.addNewMember,visible:n.listMembers,newMemberIds:r}))}}]),t}();t.default=(0,u.connect)(function(e){return{group:e.group,currentUser:e.auth.user,auth:e.auth}},{handleLogOut:d.handleLogOut,setCurrentGroup:p.setCurrentGroup,deleteMemberOfGroup:p.deleteMemberOfGroup,addMembersGroup:p.addMembersGroup,handleUpdateGroup:m.handleUpdateGroup})(j)},1174:function(e,t){},1177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=s(a),o=s(n(1178));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){var t,n=e.group,s=e.actions,i=e.messages,l=e.message,c=e.isTyping,f=e.isMe,d=e.openExtendTypeMessage,p=function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","kB","MB","GB","TB"][t]};return r.default.createElement(a.Fragment,null,n._id&&r.default.createElement("div",{style:{position:"relative",width:"100%"}},r.default.createElement("div",{className:"info-group",style:{width:"100%",background:"#eee",position:"absolute",padding:"5px 10px",borderRadius:"3px"}},r.default.createElement("b",null,n.name),r.default.createElement("small",{onClick:function(){return s.handleChangeStatusModal("listMembers")},style:{cursor:"pointer"}}," ",n.members.length," thành viên"))),r.default.createElement("div",{style:{marginTop:"31px",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"}},r.default.createElement("div",{id:"wrapper-messages",style:{flexGrow:"1",overflow:"auto",height:"100vh"}},r.default.createElement(o.default,{isMe:f,messages:i})),r.default.createElement("div",null,r.default.createElement("div",{className:"input-message",style:{marginBottom:"40px",position:"relative"}},r.default.createElement("div",{style:{position:"relative"}},c&&r.default.createElement("img",{className:"typing",src:"/images/typing.gif"}),r.default.createElement("textarea",{onKeyPress:function(e){"Enter"===e.key&&s.handleSendMessage()},value:l.content||"",id:"message-content",onFocus:s.handleOnTyping,onBlur:s.handleUnTyping,onChange:function(e){return s.handleChangeMessage("content",e.target.value)},className:"form-control",placeholder:"Nhập tin nhắn"}),r.default.createElement("div",{style:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:"15px",display:"flex",alignItems:"center"}},r.default.createElement("div",{className:d?"extend-type-message is-extend":"extend-type-message"},d&&r.default.createElement(a.Fragment,null,r.default.createElement("label",{htmlFor:"image",onClick:function(){return s.handleChangeMessage("type","image")}},r.default.createElement("i",{className:"image"===l.type?"fa fa-picture-o selected":"fa fa-picture-o",style:{cursor:"pointer"},"aria-hidden":"true"})),r.default.createElement("input",{onBlur:function(){return console.log("Un Change")},accept:"image/*",multiple:!0,onChange:function(e){return s.handleChangeMessageWithFile("image",e.target.files)},id:"image",type:"file"}),r.default.createElement("label",{htmlFor:"video",onClick:function(){return s.handleChangeMessage("type","video")}},r.default.createElement("i",{className:"video"===l.type?"fa fa-video-camera selected":"fa fa-video-camera",style:{margin:"0 5px",cursor:"pointer"},"aria-hidden":"true"})),r.default.createElement("input",{accept:"video/*",onChange:function(e){return s.handleChangeMessageWithFile("video",e.target.files)},id:"video",type:"file"}),r.default.createElement("label",{htmlFor:"file",onClick:function(){return s.handleChangeMessage("type","file")}},r.default.createElement("i",{className:"file"===l.type?"fa fa-paperclip selected":"fa fa-paperclip",style:{cursor:"pointer",fontWeight:"bold"},"aria-hidden":"true"})),r.default.createElement("input",{onChange:function(e){return s.handleChangeMessageWithFile("file",e.target.files)},id:"file",type:"file"})),r.default.createElement("i",{onClick:s.handleChangeStateOpenExtendTypeMessage,style:{cursor:"pointer"},className:"fa fa-chevron-right","aria-hidden":"true"})),r.default.createElement("i",(u(t={onClick:function(){l.content&&s.handleChangeStateOpenExtendTypeMessage},style:{cursor:"pointer",marginLeft:"10px"}},"onClick",s.handleSendMessage),u(t,"className",function(e){return"text"===e.type?e.content?"fa fa-paper-plane-o valid":"fa fa-paper-plane-o":e.files&&0!==e.files.length?"fa fa-paper-plane-o valid":"fa fa-paper-plane-o"}(l)),u(t,"aria-hidden","true"),t)))),"text"!==l.type&&l.files&&0!==l.files.length?r.default.createElement("div",{className:"preview-files-attachment "+l.type},r.default.createElement(a.Fragment,null,l.files.map(function(e,t){return e.isLoading?r.default.createElement("img",{key:t,src:"/images/loading.gif",style:{height:"20px",marginRight:"5px"}}):function(e,t){return"image"===l.type?r.default.createElement("div",{key:t,className:"item-preview-image",onClick:function(){return s.handleDeleteFilesWithIndex(t)}},r.default.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"}),r.default.createElement("img",{src:e.src,style:{height:"50px"}})):"video"===l.type?r.default.createElement("div",{key:t,className:"item-preview-video"},r.default.createElement("i",{className:"fa fa-file-video-o","aria-hidden":"true"})," ",e.file.name," - ",p(e.file.size),r.default.createElement("i",{style:{marginLeft:"5px",cursor:"pointer"},onClick:function(){return s.handleDeleteFilesWithIndex(t)},className:"fa fa-trash-o","aria-hidden":"true"})):"file"===l.type?r.default.createElement("div",{key:t,className:"item-preview-file"},r.default.createElement("i",{className:"fa fa-file-o","aria-hidden":"true"})," ",e.file.name," - ",p(e.file.size),r.default.createElement("i",{style:{marginLeft:"5px",cursor:"pointer"},onClick:function(){return s.handleDeleteFilesWithIndex(t)},className:"fa fa-trash-o","aria-hidden":"true"})):null}(e,t)}))):null))))}},1178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=s(a),o=s(n(1179));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.messages,n=e.isMe;return r.default.createElement("div",{className:"list-messages",style:{marginTop:"10px"}},t&&r.default.createElement(a.Fragment,null,t.map(function(e,t){return r.default.createElement(o.default,{key:e._id||t,message:e,isMe:n})})))}},1179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){var t,n,a,s=e.message,u=e.isMe;return o.default.createElement("div",{className:u(s.user._id)?"item-message me":"item-message"},!u(s.user._id)&&o.default.createElement("img",{src:s.user.avatar,style:{height:"30px",marginRight:"5px"}}),o.default.createElement("div",null,s.content&&o.default.createElement("span",{className:s.error?"item-message-content error":"item-message-content"},s.content),s.files&&0!==s.files.length?o.default.createElement("div",{className:"message-attachments"},(n=s.type,a=s.files,"image"===n?o.default.createElement(r.Fragment,null,a.map(function(e,t){return o.default.createElement("img",{key:t,src:e,className:"message-attachments-item image"})})):"video"===n?o.default.createElement(r.Fragment,null,a.map(function(e,t){return o.default.createElement("video",{key:t,src:e,className:"message-attachments-item video",style:{height:"150px",marginTop:"5px"},controls:!0})})):"file"===n?o.default.createElement(r.Fragment,null,a.map(function(e,t){return o.default.createElement("a",{download:!0,key:t,href:e},o.default.createElement("i",{className:"fa fa-download","aria-hidden":"true"}))})):void 0)):null,!s.error&&o.default.createElement("small",{className:"item-message-created-time"},(t=s.createdTime,new Date(t).toLocaleTimeString()+" - "+new Date(t).toLocaleDateString()))))}},1180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),o=(a=r)&&a.__esModule?a:{default:a},s=n(112);t.default=function(e){var t=e.group,n=e.visible,a=e.actions,u=e.isLoading,i=e.newMemberIds;return o.default.createElement(s.Modal,{title:"Thành viên nhóm "+(t._id&&t.name),visible:n,onCancel:function(){return a.handleChangeStatusModal("listMembers")},footer:[o.default.createElement(s.Button,{key:"back",onClick:function(){return a.handleChangeStatusModal("listMembers")}},"Trở lại"),o.default.createElement(s.Button,{key:"submit",type:"primary",loading:u,onClick:a.handleAddNewMembers},"Thêm vào nhóm")]},t._id&&o.default.createElement(r.Fragment,null,t.members.map(function(e,t){return o.default.createElement("div",{className:"item-member-of-modal-members-group",onClick:function(){return a.confirmDeleteMember(e)},key:e._id||t,style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"}},o.default.createElement("div",null,o.default.createElement("img",{src:e.avatar,style:{width:"30px",height:"30px",marginRight:"5px"}}),o.default.createElement("b",null,e.username)),o.default.createElement(s.Icon,{type:"delete"}))})),o.default.createElement("textarea",{onChange:function(e){return a.handleChangeNewMemberIds(e.target.value)},value:i||"",className:"form-control",style:{marginTop:"15px"}}),o.default.createElement("small",null,"Nhập _id người dùng cách nhau bởi dấu , để thêm vào nhóm hoặc tạo nhóm mới",o.default.createElement("br",null),"VD: 123,321"))}},1184:function(e,t){},1186:function(e,t){},1221:function(e,t){},1222:function(e,t){},1280:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),o=c(r),s=c(n(1281)),u=n(131),i=n(152),l=c(n(151));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=a=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.actions={handleLogout:function(){l.default.get("/api/v1/auth/logout"),a.props.handleLogOut(),a.props.history.push("/auth/login")}},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.props.auth;return o.default.createElement(s.default,{user:e?e.user:{},actions:this.actions})}}]),t}();t.default=(0,u.connect)(function(e){return{auth:e.auth}},{handleLogOut:i.handleLogOut})(d)},1281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){var t=e.actions,n=e.user;return o.default.createElement("nav",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0"},o.default.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"#"},"Mesage"),o.default.createElement("ul",{className:"navbar-nav ml-auto px-3",style:{display:"flex",flexDirection:"row"}},o.default.createElement("li",{className:"nav-item",style:{marginRight:"15px"}},o.default.createElement("span",{className:"nav-link"},o.default.createElement("img",{src:n.avatar,style:{height:"20px",marginRight:"5px"}})," ",n.username)),o.default.createElement("li",{className:"nav-item text-nowrap"},o.default.createElement("span",{style:{cursor:"pointer"},className:"nav-link",onClick:t.handleLogout},"Đăng xuất"))))}},1282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),o=i(r),s=n(593),u=i(n(1283));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){return o.default.createElement(r.Fragment,null,o.default.createElement(s.Switch,null,u.default.map(function(e,t){return o.default.createElement(s.Route,{key:t,exact:e.exact,path:e.path,component:e.component})})))}}]),t}();t.default=l},1283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1284)),r=o(n(1287));function o(e){return e&&e.__esModule?e:{default:e}}var s=[{path:"/auth/login",exact:!0,component:a.default},{path:"/auth/signup",component:r.default}];t.default=s},1284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),o=d(r),s=d(n(151)),u=d(n(1285)),i=n(112);n(533);var l=n(131),c=n(152),f=n(592);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a,r,o,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=Array(l),d=0;d<l;d++)c[d]=arguments[d];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={auth:{email:null,password:null},loading:!1},a.pushNotifycation=function(e,t){i.notification[e]({message:t})},a.actions={handleChange:function(e){var t=e.target,n=t.id,r=t.value,o=a.state.auth;o[n]=r,a.setState({auth:o})},handleLogin:(r=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.auth,a.setState({loading:!0}),e.next=4,s.default.post("/api/v1/auth/login",t).then(function(e){a.setState({loading:!1}),localStorage.tokenJWT=e.data.tokenJWT,(0,f.setAuthorizationHeader)(e.data.tokenJWT),a.props.setCurrentUser(e.data.tokenJWT),a.props.history.push("/")},function(e){var t="Đăng nhập không thành công";e.response.data.message&&(t=e.response.data.message),a.pushNotifycation("error",t),a.setState({loading:!1})}).catch(function(e){console.log(e),a.pushNotifycation("error","Đăng nhập không thành công"),a.setState({loading:!1})});case 4:case"end":return e.stop()}},e,u)}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function a(r,o){try{var s=e[r](o),u=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});t(u)}("next")})},function(){return o.apply(this,arguments)})},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.state,t=e.auth,n=e.loading;return o.default.createElement(u.default,{actions:this.actions,loading:n,auth:t})}}]),t}();t.default=(0,l.connect)(null,{setCurrentUser:c.setCurrentUser})(m)},1285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){var t=e.actions,n=e.auth,a=e.loading;return o.default.createElement("div",{className:"login-page"},o.default.createElement("form",{className:"form-login"},o.default.createElement("img",{className:"mb-4",src:"https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg",alt:"",width:"72",height:"72"}),o.default.createElement("h1",{className:"text-center h3 mb-3 font-weight-normal"},"Đăng nhập"),o.default.createElement("input",{value:n.email||"",style:{marginBottom:"5px"},id:"email",onChange:t.handleChange,type:"email",className:"form-control",placeholder:"Email",required:!0,autoFocus:!0}),o.default.createElement("input",{value:n.password||"",style:{marginBottom:"10px"},id:"password",onChange:t.handleChange,type:"password",className:"form-control",placeholder:"Mật khẩu",required:!0}),o.default.createElement("button",{disabled:a,onClick:t.handleLogin,className:"btn btn-lg btn-primary btn-block",type:"submit"},a&&o.default.createElement("i",{style:{marginRight:"5px"},className:"fa fa-circle-o-notch fa-spin","aria-hidden":"true"}),"Đăng nhập"),o.default.createElement("p",{className:"text-center mt-5 mb-3 text-muted"},"© 2019-2020")))}},1286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e?o.default.defaults.headers.common.Authorization="Bearer "+e:delete o.default.defaults.headers.common.Authorization};var a,r=n(151),o=(a=r)&&a.__esModule?a:{default:a}},1287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),s=(a=o)&&a.__esModule?a:{default:a};var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return s.default.createElement("h1",null,"Signup")}}]),t}();t.default=u},1288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){var t=function(t){function n(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=a=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.checkAuthenticate=function(){a.props.isAuthenticated||(a.props.handleLogOut(),a.props.history.push("/auth/login"))},l(a,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.Component),a(n,[{key:"componentDidMount",value:function(){this.checkAuthenticate()}},{key:"componentDidUpdate",value:function(){this.checkAuthenticate()}},{key:"render",value:function(){return this.props.isAuthenticated?s.default.createElement(e,this.props):null}}]),n}();return(0,u.connect)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{handleLogOut:i.handleLogOut})(t)};var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r},u=n(131),i=n(152);function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}},1289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1290),s=(a=o)&&a.__esModule?a:{default:a},u=n(206);var i=("object"===("undefined"==typeof window?"undefined":r(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.compose)(),l=(0,u.createStore)(s.default,i);t.default=l},1290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(206),r=u(n(1291)),o=u(n(1292)),s=u(n(1293));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.combineReducers)({group:r.default,auth:o.default,groups:s.default})},1291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{members:[]},t=arguments[1];switch(t.type){case"SET_CURRENT_GROUP":e=t.payload.group;break;case"ADD_MEMBERS_CURRENT_GROUP":e=a({},e,{members:[].concat(r(e.members),r(t.members))});break;case"DELETE_MEMBER_CURRENT_GROUP":e=a({},e,{members:[].concat(r(e.members)).filter(function(e){return e._id!==t.deleteMemberId})})}return e}},1292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r={isAuthenticated:!1,user:{}};t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"AUTH_SET_CURRENT_USER":return{isAuthenticated:(e=n.user,!!e._id),user:n.user};case"AUTH_USER_LOG_OUT":return a({},t,{isAuthenticated:!1,user:{}});default:return t}}},1293:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"GROUPS_INIT_GROUPS":e=t.groups;break;case"GROUPS_UPDATE_GROUP":for(var n=0;n<e.length;n++)if(e[n]._id===t.group._id){e.splice(n,1),e=[t.group].concat(a(e));break}break;case"GROUPS_UPDATE_GROUP_BY_ID":for(var r=0;r<e.length;r++)if(e[r]._id===t.groupId){e.splice(r,1),e=[t.group].concat(a(e));break}break;case"GROUPS_ADD_NEW_GROUP":0===e.length?e=[t.group]:(10===e.length&&e.splice(9,1),e=[t.group].concat(a(e)))}return e}},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrentUser=function(e){var t={};e&&o.default.verify(e,"tobeornottobe",function(e,n){e||n&&(t={_id:n._id,username:n.username,avatar:n.avatar})});return{type:"AUTH_SET_CURRENT_USER",user:t}},t.handleLogOut=function(){return localStorage.removeItem("tokenJWT"),{type:"AUTH_USER_LOG_OUT"}};var a,r=n(1181),o=(a=r)&&a.__esModule?a:{default:a}},539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrentGroup=function(e){return{type:"SET_CURRENT_GROUP",payload:{group:e}}},t.addMembersGroup=function(e){return{type:"ADD_MEMBERS_CURRENT_GROUP",members:e}},t.deleteMemberOfGroup=function(e){return{type:"DELETE_MEMBER_CURRENT_GROUP",deleteMemberId:e}}},540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroups=function(e){return{type:"GROUPS_INIT_GROUPS",groups:e}},t.handleAddNewGroup=function(e){return{type:"GROUPS_ADD_NEW_GROUP",group:e}},t.handleUpdateGroup=function(e){return{type:"GROUPS_UPDATE_GROUP",group:e}},t.handleUpdateGroupById=function(e){return{type:"GROUPS_UPDATE_GROUP_BY_ID",groupId:e}}},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAuthorizationHeader=void 0;var a,r=n(1286),o=(a=r)&&a.__esModule?a:{default:a};t.setAuthorizationHeader=o.default},617:function(e,t,n){n(618),e.exports=n(819)},819:function(e,t,n){"use strict";var a=f(n(1)),r=f(n(8)),o=n(593),s=n(131),u=f(n(829)),i=n(592),l=n(152),c=f(n(1289));function f(e){return e&&e.__esModule?e:{default:e}}localStorage.tokenJWT?c.default.dispatch((0,l.setCurrentUser)(localStorage.tokenJWT)):c.default.dispatch((0,l.handleLogOut)()),(0,i.setAuthorizationHeader)(localStorage.tokenJWT),r.default.render(a.default.createElement(s.Provider,{store:c.default},a.default.createElement(o.BrowserRouter,null,a.default.createElement(o.Switch,null,u.default.map(function(e,t){return a.default.createElement(o.Route,{key:t,exact:e.exact,path:e.path,component:e.component})})))),document.getElementById("app"))},829:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(830)),r=o(n(1282));function o(e){return e&&e.__esModule?e:{default:e}}var s=[{path:"/",exact:!0,component:(0,o(n(1288)).default)(a.default)},{path:"/auth",component:r.default}];t.default=s},830:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),o=f(r),s=n(112);n(533);var u=f(n(1126)),i=f(n(1150)),l=f(n(1151)),c=f(n(1280));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.pushNotifycation=function(e,t){s.notification[e]({message:t})},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.props.history;return o.default.createElement(r.Fragment,null,o.default.createElement(c.default,{history:e,pushNotifycation:this.pushNotifycation}),o.default.createElement("div",{className:"container-fluid"},o.default.createElement("div",{className:"row"},o.default.createElement(u.default,{pushNotifycation:this.pushNotifycation}),o.default.createElement(l.default,{history:e,pushNotifycation:this.pushNotifycation}),o.default.createElement(i.default,null))))}}]),t}();t.default=p},881:function(e,t,n){var a={"./af":354,"./af.js":354,"./ar":355,"./ar-dz":356,"./ar-dz.js":356,"./ar-kw":357,"./ar-kw.js":357,"./ar-ly":358,"./ar-ly.js":358,"./ar-ma":359,"./ar-ma.js":359,"./ar-sa":360,"./ar-sa.js":360,"./ar-tn":361,"./ar-tn.js":361,"./ar.js":355,"./az":362,"./az.js":362,"./be":363,"./be.js":363,"./bg":364,"./bg.js":364,"./bm":365,"./bm.js":365,"./bn":366,"./bn.js":366,"./bo":367,"./bo.js":367,"./br":368,"./br.js":368,"./bs":369,"./bs.js":369,"./ca":370,"./ca.js":370,"./cs":371,"./cs.js":371,"./cv":372,"./cv.js":372,"./cy":373,"./cy.js":373,"./da":374,"./da.js":374,"./de":375,"./de-at":376,"./de-at.js":376,"./de-ch":377,"./de-ch.js":377,"./de.js":375,"./dv":378,"./dv.js":378,"./el":379,"./el.js":379,"./en-au":380,"./en-au.js":380,"./en-ca":381,"./en-ca.js":381,"./en-gb":382,"./en-gb.js":382,"./en-ie":383,"./en-ie.js":383,"./en-il":384,"./en-il.js":384,"./en-nz":385,"./en-nz.js":385,"./eo":386,"./eo.js":386,"./es":387,"./es-do":388,"./es-do.js":388,"./es-us":389,"./es-us.js":389,"./es.js":387,"./et":390,"./et.js":390,"./eu":391,"./eu.js":391,"./fa":392,"./fa.js":392,"./fi":393,"./fi.js":393,"./fo":394,"./fo.js":394,"./fr":395,"./fr-ca":396,"./fr-ca.js":396,"./fr-ch":397,"./fr-ch.js":397,"./fr.js":395,"./fy":398,"./fy.js":398,"./gd":399,"./gd.js":399,"./gl":400,"./gl.js":400,"./gom-latn":401,"./gom-latn.js":401,"./gu":402,"./gu.js":402,"./he":403,"./he.js":403,"./hi":404,"./hi.js":404,"./hr":405,"./hr.js":405,"./hu":406,"./hu.js":406,"./hy-am":407,"./hy-am.js":407,"./id":408,"./id.js":408,"./is":409,"./is.js":409,"./it":410,"./it.js":410,"./ja":411,"./ja.js":411,"./jv":412,"./jv.js":412,"./ka":413,"./ka.js":413,"./kk":414,"./kk.js":414,"./km":415,"./km.js":415,"./kn":416,"./kn.js":416,"./ko":417,"./ko.js":417,"./ku":418,"./ku.js":418,"./ky":419,"./ky.js":419,"./lb":420,"./lb.js":420,"./lo":421,"./lo.js":421,"./lt":422,"./lt.js":422,"./lv":423,"./lv.js":423,"./me":424,"./me.js":424,"./mi":425,"./mi.js":425,"./mk":426,"./mk.js":426,"./ml":427,"./ml.js":427,"./mn":428,"./mn.js":428,"./mr":429,"./mr.js":429,"./ms":430,"./ms-my":431,"./ms-my.js":431,"./ms.js":430,"./mt":432,"./mt.js":432,"./my":433,"./my.js":433,"./nb":434,"./nb.js":434,"./ne":435,"./ne.js":435,"./nl":436,"./nl-be":437,"./nl-be.js":437,"./nl.js":436,"./nn":438,"./nn.js":438,"./pa-in":439,"./pa-in.js":439,"./pl":440,"./pl.js":440,"./pt":441,"./pt-br":442,"./pt-br.js":442,"./pt.js":441,"./ro":443,"./ro.js":443,"./ru":444,"./ru.js":444,"./sd":445,"./sd.js":445,"./se":446,"./se.js":446,"./si":447,"./si.js":447,"./sk":448,"./sk.js":448,"./sl":449,"./sl.js":449,"./sq":450,"./sq.js":450,"./sr":451,"./sr-cyrl":452,"./sr-cyrl.js":452,"./sr.js":451,"./ss":453,"./ss.js":453,"./sv":454,"./sv.js":454,"./sw":455,"./sw.js":455,"./ta":456,"./ta.js":456,"./te":457,"./te.js":457,"./tet":458,"./tet.js":458,"./tg":459,"./tg.js":459,"./th":460,"./th.js":460,"./tl-ph":461,"./tl-ph.js":461,"./tlh":462,"./tlh.js":462,"./tr":463,"./tr.js":463,"./tzl":464,"./tzl.js":464,"./tzm":465,"./tzm-latn":466,"./tzm-latn.js":466,"./tzm.js":465,"./ug-cn":467,"./ug-cn.js":467,"./uk":468,"./uk.js":468,"./ur":469,"./ur.js":469,"./uz":470,"./uz-latn":471,"./uz-latn.js":471,"./uz.js":470,"./vi":472,"./vi.js":472,"./x-pseudo":473,"./x-pseudo.js":473,"./yo":474,"./yo.js":474,"./zh-cn":475,"./zh-cn.js":475,"./zh-hk":476,"./zh-hk.js":476,"./zh-tw":477,"./zh-tw.js":477};function r(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=881}},[[617,1,2]]]);